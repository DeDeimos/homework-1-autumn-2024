# Домашние задание №1 по курсу "Обеспечение качества в разработке ПО"

Окружение, выбранное для тестирования - Google Chrome Версия 128.0.6613.138.

Ссылка на сайт: [Jimder](https://jimder.ru).

### Исполнители:
- Толкачев Родион
- Долматов Федор
- Атрошко Никита

## Регистрация и авторизация

- **Авторизация**:  
  - После введения данных и нажатия кнопки "Продолжить", осуществляется вход в систему, и пользователь оказывается на странице настроек профиля. Если какое-либо поле не заполнено, отображается соответствующее сообщение ("Поле не может быть пустым"). Подсказок по формату данных нет. ✅
  > ![](imgs/auth_empty_fields.png)
  - При ошибке авторизации отображается соответствующее сообщение ("Неверный логин или пароль"). ✅
  > ![](imgs/auth_error.png)
  - Кнопка **Показать/скрыть пароль** работает. ✅
  - При нажатии кнопки "Регистрация" пользователь переходит на страницу регистрации. ✅
  - При нажатии кнопки назад пользователь переходит на предыдущую страницу. ✅

- **Регистрация**:  
  - На каждом этапе происходит валидация введенных полей, отображаются соответсвующие ошибки с подсказками, если ошибок нет, при нажатии кнопки продолжить осуществляется переход на следующий шаг. ✅
  - **Показать/скрыть пароль** работает. ✅
  - При нажатии кнопки "Войти" пользователь переходит на страницу авторизации. ✅
  - Кнопки "Назад" и "Продолжить" переходят между этапами (на первом этапе кнопка "Назад" возвращает на предыдущую страницу). ✅
  - Форма регистрации хранит введенные данные между шагами (заново вводить данные при нажатии кнопок "Назад"/"Продолжить" не требуется). ✅
  - При нажатии кнопки "Завершить" регистрация завершается с автоматической авторизацией. ✅
  - При уже зарегистрированном логине выводится сообщение об ошибке, регистрации не происходит.✅
  >
  > ![Процесс регистрации](imgs/register.gif)
  >
## Страница настроек пользователя

- **Навигация в настройках**:  
  - Работает корректно, вкладки переключаются при нажатии. ✅
    >
    > ![](imgs/settings_nav.gif)
    >

- **Вкладка "Профиль"**:
  - **Фотографии**:  
    - При добавлении фотография не загружается, сообщения об ошибке нет. ⚠️
    > **[Баг]**
    > 
    > ![](imgs/photo_upload.gif)
    >
    > Ожидается: фотография загружается, при ошибке выводится сообщение.
    - При удалении фотография не удаляется, сообщения об ошибке нет. (поведение аналогично загрузке изображения) ⚠️
    > **[Баг]**
    > 
    > Ожидается: фотография удаляется, при ошибке выводится сообщение.
  - **Интересы**:  
    - Редактирование работает, обновление интересов корректно. ✅
    - Если интересы не выбраны, отображается ошибка. ✅
    >
    > ![](imgs/interest_edit.gif)
    >
  - **Биография**:
    - Редактирование работает, проверка корректности с подсказками.  ✅
    - Обновление происходит, если нет ошибок, иначе выводится сообщение об ошибке. ✅
    >
    > ![](imgs/bio_edit.gif)
    >
- **Вкладка "Безопасность"**:
  - **Редактирование имени**:
    - При нажатии кнопки редактировать открывается модальное окно для ввода данных. ✅
    - При заполнении поля происходит проверка корректности (Длина 2-32 символа, максимум 1 пробел или дефис между словами, никаких спецсимволов), при ошибке отображается соответствующее сообщение ("Поле не может быть пустым" или "Поле некорректно") + подсказка.  ✅
    - Обновление происходит только при отсутствии ошибок. ✅
  - **Редактирование почты**:  
    - При нажатии кнопки редактировать открывается модальное окно для ввода данных. ✅
    - При заполнении поля происходит проверка корректности (структура почтового адреса), при ошибке отображается соответствующее сообщение ("Поле не может быть пустым" или "Поле некорректно") + подсказка. ✅
    - Выполняется проверка текущего пароля для смены почты, если пароль неверный отображается соответсвующее сообщение. ("Что-то пошло не так") ✅
  - **Редактирование пароля**:  
    - При нажатии кнопки редактировать открывается модальное окно для ввода данных. ✅
    - При заполнении поля происходит проверка корректности (Длина 8-32 символа и только стандартные спецсимволы ASCII printable), при ошибке отображается соответствующее сообщение ("Поле не может быть пустым" или "Поле некорректно") + подсказка. ✅
    - Выполняется проверка текущего пароля для установки нового, если пароль неверный отображается соответсвующее сообщение. ("Что-то пошло не так") ✅
  - **Кнопка "Удалить аккаунт"**:
    - При нажатии кнопки открывается модальное окно для подтверждения. ✅
    - При нажатии кнопки "Продолжить" аккаунт пользователя удаляется. ✅
    - Если на бекэнде произошла ошибка, отображается сообщение "Что-то пошло не так".
- **Вкладка "Подписка"**:
  - Статус подписки не меняется после истечения срока действия подписки. ⚠️
    > **[Баг]**
    >
    > ![](imgs/premium_outdated.png) 
    >
    > Ожидается: статус подписки должен обновляться после истечения срока подписки.
  - **Оформление подписки**:  
    - При нажатии кнопки "Оформить подписку" открывается модальное окно с инструкцией и кнопкой "Продолжить" для перехода в платежную систему. ✅
    - При нажатии на кнопку продолжить пользователь переходит в платежную систему. После оплаты пользователь возвращается на страницу настроек (вкладка "Подписка") ✅
    - После оплаты статус подписки обновляется, но история платежей не обновляется. ⚠️
    > **[Баг]**
    >
    > ![](imgs/premium_bug.png)
    >
    > Ожидается: история платежей должна обновляться сразу после оплаты.
    >
    > ![](imgs/premium_actual.png)

- **Кнопка "Выход"**:  
  - При нажатии на кнопку открывается модальное окно с подтверждением, при нажатии кнопки "Продолжить" происходит выход из системы. ✅
  - Если действие авторизационной cookie закончилось, то автоматический выход из системы не происходит, а при нажатии "Продолжить" появляется ошибка "Что-то пошло не так". ⚠️
    > **[Баг]**
    >
    > ![](imgs/logout_error.png)
    >
    > Ожидается: автоматический выход из системы при завершении действия авторизационной cookie.
## Лента с выбором карточек
- При нажатии на зеленую кнопку с галочкой происходит лайк, и карточка улетает вправо ✅
- При нажатии на красную кнопку с крестиком происходит дизлайк, и карточка улетает влево ✅
- При нажатии на кнопку по середине появляется модальное окно с возможностью пожаловаться на данного пользователя
  - При нажатии на предложенные причины жалоб они выделяются зеленым ✅
  - При выборе причины и нажатии на кнопку Пожаловаться появляется небольшое уведомление на 1 секунду, что жалоба отправлена ✅
  - При отправке жалобы без выбора причины приходит оповещение, что что-то не так, а с сервера приходит ошибка 500 ❌
    > **[Баг]**
    > 
    > Ожидаемый результат: появление предупреждения, что причина не выбрана и просьба выбрать причину
  - При нажатии кнопки Отмена модальное окно закрывается ✅
  - При нажатии области вне модального окна модальное окно закрывается ✅
- Если пользователь добавил больше одной фотографии, то есть возможность пролистать его фотографии ✅
- При листании фотографий в карточке отправляется запрос на дизлайк ❌
    > **[Баг]**
    > 
    > Ожидаемый результат: никаких лишних запросов
- Для мобильных устройств и планшетов ненужный запрос на дизлайк происходит при нажатии на карточку для информации про пользователя и повторном нажатии, чтобы вернуться к просмотру изображений ❌
    > **[Баг]**
    > 
    > Ожидаемый результат: никаких лишних запросов
## Страница с мэтчами пользователя
- При вводе в инпут поиска происходит поиск по имени человека ✅
- При фильтрации пользователей если пришло 4 пользователя появляется большой отсуп между линиями ❌
    > **[Баг]**
    > 
    > Ожидаемый результат: обычный отступ как и при полностью заполненной сетке
- При наведении на карточки пользователя появляется шкала внизу с именем и возрастом человека
- При наведении на некоторых пользователей шкала снизу вылазиет из формы карточки ❌
    > **[Баг]**
    > 
    > Ожидаемый результат:
    > 
    > ![](imgs/correct_match_card.png)
    > 
    > Фактический результат:
    > 
    > ![](imgs/incorrect_match_card.png)
- При нажатии на карточку пользователя появляется модальное окно с расширенной информации о человеке, кнопки для перехода в чат с пользователем и кнопки для закрытия модального окна
  - При нажатии на кнопку происходит переход на страницу с чатом с выбранным пользователем ✅
  - При нажатии на кнопку закрытия происходит закрытие модального окна ✅
  - При нажатии на область вне модального окна происходит закрытие модального окна ✅  
## Страница с чатами
- При нажатии на кнопку назад в окне чата или ничего не происходит или происходит переадресация на предыдущую страницу ❌
    > **[Баг]**
    > 
    > Ожидаемый результат: нажатие на кнопку назад возвращает на страницу карточек
- При нажатии кнопки кнопки отправки сообщения или клавиши enter отправляется сообщение ✅
- По прошествии ~5 минут сообщения перестают отправляться ❌
    > **[Баг]**
    > 
    > Ожидаемый результат: сообщения всегда отправляются
- В пустом чате с пользователем появляется информационное окно о том, что пока нет сообщений ✅
- Если сообщение пустое, при нажатии на кнопку отправки ничего не происходит ✅
## Тестирование браузерной навигации
Изначально определим какие виды страниц есть: страницы доступные авторизированному пользователю и обычные страницы (гостя)

Страницы доступные авторизированному пользователю: 
- /main
- /profile
- /matches
- /chats

Страницы гостя:
- /login
- /register
- /

Когда гость не авторизован, то он не может зайти на страницы авторизованного. Точно также работает и в обратную сторону. 

Расммотрим некоторые частные случаи: 
- При выходе из-под учетной записи пользователя перекидывает на стринцу авторизации, если нажать на кнопку Назад, переходим на страницу профиля, но так как пользователь не авторизован ничего не загружается, и просто остается пустой скелет. Но при перезагрузке этой странице мы поподаем на страницу логина ❌
    > **[Баг]**
    > 
    > Ожидаемый результат:
    > 
    > Оставаться на странице логина
    > 
    > Фактический результат:
    > 
    > ![](imgs/navig_error.png)
- При нажатии на кнопку назад браузера после авторизации и перехода на страницу профиля происходит переход на страницу карточек (ленту). То есть пользователь не возвращается в состояние гостя ✅
- При нажатии на итем чата в навбаре переходим на чат с этим пользователем. При нажатии кнопки Назад пользователь возвращается на страницу, с которой он перешел ✅
- При нахождении на странице мэтчей и открытии матча с пользователем и нажатии на перейти в чат, переходим на чат с этим пользователем. При нажатии кнопки Назад пользователь возвращается на страницу, с которой он перешел ✅
  
## Тестирование отдельных компонентов
### Навбар
- При нажатии на кнопку с чатом открывается чат с пользователем ✅
- - Время отправки последнего сообщения отображается с орфографической ошибкой ❌
    > **[Баг]**
    >
    > Ожидаемый результат: правильное падежное окончание слова в зависимости от времени
    >
    > Фактический результат: 
    >
    > ![](imgs/incorrect_message_time.jpg)
- При смене имени в настройках оно меняется и в навбаре ✅
- При уменьшении экрана до 896px навбар пропадает, остается только футер ✅
### Хэдер
  Хэдер на сайте используется для навигации по сайту и переходу по страницам требующим авторизации, представляет собой кнопки. 
  
  При ширине экрана c 897px хэдер расположен сверху. 
  ![](imgs/header_desktop.png)
  
  При уменьшении ширины экрана до 896px хэдер размещается внизу, превращаясь, по факту, футер. Появляются иконки с подписями. Туда также добавляется иконка для перехода на страницу с чатами.
  ![](imgs/header_pad.png)
  
  При уменьшении ширины экрана до 540px и меньше хэдер подписи пропадают и остаются только иконки. Иконки выдержаны в одном стиле, понятны и соответсвуют страницам для перехода.
  
  ![](imgs/header_mobile.png)
